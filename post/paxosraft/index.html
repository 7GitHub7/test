<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
><head>
  <title>
    Blog
      |
      Paxos&amp;Raft


    

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.90.1" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta
    name="description"
    content="
      A brief guide to Paxos and Raft


    "
  />
  
  
  
  <link
    rel="stylesheet"
    href="/test/css/main.min.35e77d74ec27f743c169cf1c4c9339cbcca3f960babea337348e065be3c549c7.css"
    integrity="sha256-Ned9dOwn90PBac8cTJM5y8yj&#43;WC6vqM3NI4GW&#43;PFScc="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/test/css/markupHighlight.min.058b31f17db60602cc415fd63b0427e7932fbf35c70d8e341a4c39385f5f6f3e.css"
    integrity="sha256-BYsx8X22BgLMQV/WOwQn55MvvzXHDY40Gkw5OF9fbz4="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
    crossorigin="anonymous"
  />
  
  <link rel="shortcut icon" href="/test/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/test/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/test/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/test/favicon-16x16.png" />

  <link rel="canonical" href="/test/post/paxosraft/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/test/js/anatole-header.min.2a2cd9614b7d007dfbb75e8da19e3a0fa872ceab53c6d000c00b7a0c89b85bfc.js"
    integrity="sha256-KizZYUt9AH37t16NoZ46D6hyzqtTxtAAwAt6DIm4W/w="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/test/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js"
      integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus="
      crossorigin="anonymous"
    ></script>

  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Paxos&amp;Raft"/>
<meta name="twitter:description" content="A brief guide to Paxos and Raft"/>



  


  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "post",
        "name": "Paxos\u0026Raft",
        "headline": "Paxos\u0026Raft",
        "alternativeHeadline": "",
        "description": "
      A brief guide to Paxos and Raft


    ",
        "inLanguage": "en-us",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/7github7.github.io\/test\/post\/paxosraft\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Piotr"
        },
        "creator" : {
            "@type": "Person",
            "name": "Piotr"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Piotr"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Piotr"
        },
        "copyrightYear" : "2021",
        "dateCreated": "2021-12-13T00:00:00.00Z",
        "datePublished": "2021-12-13T00:00:00.00Z",
        "dateModified": "2021-12-13T00:00:00.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Piotr",
            "url": "https://7github7.github.io/test/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/7github7.github.io\/test\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "https:\/\/7github7.github.io\/test\/post\/paxosraft\/",
        "wordCount" : "447",
        "genre" : [ ],
        "keywords" : [ ]
    }
  </script>



</head>
<body>
    <header><div
  class="page-top 
    animated fadeInDown

  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
  </a>
  <nav>
    <ul class="nav__list" id="navMenu">
      <div class="nav__links">
        
        
          
          <li>
            <a
              
              href="/test/"
              
              title=""
              >Home</a
            >
          </li>

        
          
          <li>
            <a
              
              href="/test/post/"
              
              title=""
              >Posts</a
            >
          </li>

        
          
          <li>
            <a
              
              href="/test/about/"
              
              title=""
              >About</a
            >
          </li>

        
      </div>
      <ul>
        
        
          <li>
            <a class="theme-switch" title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </li>

        
      </ul>
    </ul>
  </nav>
</div>
</header>
    <div class="wrapper">
      <aside><div
  class="sidebar
    animated fadeInDown

  "
>
  <div class="sidebar__content">
    <div class="logo-title">
      <div class="title">
        <img src="/test/images/profile.jpg" alt="profile picture" />
        <h3 title=""><a href="/test">Tech &amp; IT</a></h3>
        <div class="description">
          <p>Cześć! Jestem Piotr, a to jest blog o technologii i IT</p>
        </div>
      </div>
    </div>
    <ul class="social-links">
      
    </ul>
  </div><footer class="footer footer--sidebar">
  <div class="by_farbox">
    <ul class="footer__list">
      <li class="footer__item">
        &copy;
        
          Blog
          2021


        
      </li>
      
    </ul>
  </div>
</footer>
  
  <script
    type="text/javascript"
    src="/test/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js"
    integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script></div>
</aside>
      <main>
        <div class="autopagerize_page_element">
          <div class="content">
  <div
    class="post 
      animated fadeInDown

    "
  >
    <div class="post-content">
      
      <div class="post-title">
        <h1>Paxos&amp;Raft</h1>
        
          <div class="info">
            <em class="fas fa-calendar-day"></em>
            <span class="date"
              >
                Mon, Dec 13, 2021


              </span
            >
            <em class="fas fa-stopwatch"></em>
            <span class="reading-time">3-minute read</span>
          </div>

        
      </div><p>Algorytmy konsensusu</p>
<p>W tym artukule postram się przybliżyć co wspólnego ma Grecka wyspa z systememi rozproszonymi. Przedstawię zasadę działania popularnych algorytmów osiągania konsensu w systemach rozproszonych - Paxos I Raft.</p>
<p>Historia algorytmu Paxos sięga czasów antycznej Grecji. Transformacja rządu na system parlamentarny który z założenie wymaga posiedzeń rządzących było nie lada wyzwaniem. W uwczesnych czasach piorytetem greka był handel na który poświęcał większość swojego czasu. Aby parlament mógł funkcjonować, musieli wypracować system który pozwalał politykom na wchodzenie i wychodzenia dowolnym czasie. W związku z tym, że pozostały szczątkowe informacje działania takiego algorytmu pozwoliło to zainspirować się nim w sytemach rozroszonych.</p>
<p>PAXOS – Jak działa – wersja bez błędów</p>
<p>Użyty w implementacji na przykład:</p>
<p>-Apache ZooKeeper</p>
<p>-Systemy Google</p>
<p>W teorii algorytm jest prosty jednak implementacja nie jest taka łatwa na jaką się wydaję. Cięzko jest znaleźć zaimplementowany algorytm zgodny z oryginalnymi założeniemi.</p>
<p>W podstawowej wersji algorytmu mamy 4 głowne role:</p>
<p>Client (wysyła żądanie do systemu)</p>
<p>Proposer (lider który przewodzi w głosowaniu)</p>
<p>Acceptor (członek który może głosować)</p>
<p>Learner (członek który powiela podjęte decyzje)</p>
<p>Przykładowy przebieg osiągania wpólnego statnu dla maszyn w systemie:</p>
<p>System otrzymuje żądanie od Clienta</p>
<p>Wybrany lider(Proposer) wysyła prośbę o obietnice do każdego z członków. Prośba musi zawierać liczbę n która jest wartościa kontolną dla członków na podstawie której mogą stwierdzić czy dany lider jest aktualny.</p>
<p>Jeżleli wartość kontrolna się zgadza to każdy członek odsyła obietnicę(Promise) w której deklaruję, że jeżeli wyślesz mi propozycję wprowadzenia zmian w systemi oraz prośba będzie zawierała tą konkretną wartością n to wprowadze zaproponowane zmiany.</p>
<p>Jeżeli Proposer otrzymał więcej niż połowe pozytywnych odpwiedzi, wysyła wiadomość typu Accept która zawiera wartość n oraz wartośc/stan który członek ma zapisać.</p>
<p>Acceptor odsyła potwierdzenie</p>
<p>Prepare(n) – n za każdym razem musi być większa niż poprzednio</p>
<p>Proces skłda się z dwóch etapów. Pierwszy odpowiada za otrzymanie przez Proposera odpoweidzi Promise od członków. Drugi to zapisanie dancyh przez członków.</p>
<p>Tak jak można zauważyć w algorytmie wsytępuję redundancja ale o tym za chwilę.</p>
<p>Teraz przedstawię kilka przypadków jak Paxos radzi sobie z awariami.</p>
<p>Acceptor ulega awarii</p>
<p>Ze względu na to, że algorytm potrzebuję większość pozytywnych odowiedzi, przypadek kiedy jeden Acceptor ulegnie awarii nic sie nie dzieje z całym systemem.</p>
<p>Learner ulega awarii</p>
<p>Tak samo jak powyżej, system sprawnie radzi sobie z awarią Learnenra.</p>
<p>Proposer ulega awarii</p>
<p>Ten przypadek jest dosyć złozony. W przypadku kiedy awarii ulega Proposer musi niezwłocznie zostać wybrany nowy. Procedura wybierania nowego Proposera jest bardzo podobna do poprzednich, polegamy na demokracji. Każdy członek ma losowy timer po którego upływie może zgłosić kandydaturę na Proposera(o ile obecny nie odpoiwada)</p>
<p>Wychodząc naprzeciw redundancji występującej w podstawoej wersji algorytmu, wprowadzono MULTIPAXOS który wykonuję pierwszy etap tylko w momencie utrady lidera. W pozostałych przypadkach wykonywana jest tylko druga część algorytmu.</p></div>
    <div class="post-footer">
      <div class="info">
        

        
      </div>
    </div>

    
  </div>


          </div>
        </div>
      </main>
    </div><footer class="footer footer--base">
  <div class="by_farbox">
    <ul class="footer__list">
      <li class="footer__item">
        &copy;
        
          Blog
          2021


        
      </li>
      
    </ul>
  </div>
</footer>
  
  <script
    type="text/javascript"
    src="/test/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js"
    integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script></body>
</html>
